classes:
    cache:
        class: Classes\Utils\Cache
        arguments:
            - logger
            - '%cache_expiration%'

    classMetaDataFactory:
        class: Classes\Model\Orm\ClassMetaDataFactory
        arguments:
            - '%mapping_files_directory%'

    classWriter:
        class: Classes\Utils\ClassWriter

    databaseMetaData:
        class: Classes\Model\Orm\DatabaseMetaData
        arguments:
            - pdo.factory
            - cache
            - '%database_name%'

    entity.generator:
        class: Classes\Model\Orm\EntityGenerator
        arguments:
            - classMetaDataFactory
            - classWriter
            - '%mapping_files_directory%'

    entity.manager:
        class: Classes\Model\Orm\EntityManager
        arguments:
            - pdo.factory
            - classMetaDataFactory
            - databaseMetaData
            - session

    event.dispatcher:
        class: Classes\Event\EventDispatcher
        arguments: container

    firewall:
        class: Classes\Security\Firewall
        arguments:
            - request

    logger:
        class: Classes\Utils\Logger

    pdo.factory:
        class: Classes\Model\Connection\PDOFactory
        arguments:
            - '%host%'
            - '%database_name%'
            - '%user%'
            - '%password%'

    request:
        class: Classes\Http\Request
        arguments: session

    response:
        class: Classes\Http\Response
        arguments:
            - session
            - logger

    router:
        class: Classes\Routing\Router
        arguments:
            - request
            - cache
            - firewall
            - event.dispatcher

    session:
        class: Classes\Http\Session

    schema.generator:
        class: Classes\Model\Orm\SchemaGenerator
        arguments: entity.manager

    statistic.eventListener:
        class: Classes\Routing\StatisticEventListener
        arguments: entity.manager
        event: save_visited_url
        method: save